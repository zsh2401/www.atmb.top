(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{540:function(t,a,s){t.exports=s.p+"assets/img/iconpath.eee558b0.png"},621:function(t,a,s){"use strict";s.r(a);var e=s(6),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"开始"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#开始"}},[t._v("#")]),t._v(" 开始")]),t._v(" "),e("p",[t._v("在前面的章节中，我们大概了解到秋之盒模块的名字应当"),e("code",[t._v("class")]),t._v("上的"),e("code",[t._v("特性(Attribute)")]),t._v("来声明模块的元信息(Metadata)：")]),t._v(" "),e("div",{staticClass:"language-java extra-class"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ExtName")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hello world!"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("EHelloAutumnBox")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("LeafExtensionBase")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//.....")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("在运行时，秋之盒会通过"),e("code",[t._v("反射")]),t._v("技术获取拓展模块特性中的元信息。")]),t._v(" "),e("h2",{attrs:{id:"先导知识-i18n"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#先导知识-i18n"}},[t._v("#")]),t._v(" 先导知识: I18N")]),t._v(" "),e("p",[t._v("在开始学习更多知识前，首先了解一下秋之盒中常见的多语言化方法，例如：")]),t._v(" "),e("div",{staticClass:"language-java extra-class"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ExtName")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Happy"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zh-cn:开心"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zh-tw:開心"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("p",[t._v("上面的代码中表明了：秋之盒使用简体中文语言时，该拓展模块名为"),e("code",[t._v("开心")]),t._v("，台湾繁体中文时为"),e("code",[t._v("開心")]),t._v("，如果不是以上两种语言，则使用首个参数作为默认值："),e("code",[t._v("Happy")]),t._v("。"),e("br"),t._v("\n当然，你可以可以选择不使用这个玩法：")]),t._v(" "),e("div",{staticClass:"language-java extra-class"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//无论如何,都只会是"你好"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ExtName")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"你好"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),e("h2",{attrs:{id:"主要的特性"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#主要的特性"}},[t._v("#")]),t._v(" 主要的特性")]),t._v(" "),e("p",[t._v("秋之盒SDK还提供了许多预置特性以及一些新的可拓展逻辑供你更好地个性化模块信息。")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"title"}),e("ul",[e("li",[t._v("主要的特性均位于源码中的"),e("a",{attrs:{href:"https://github.com/zsh2401/AutumnBox/tree/master/src/AutumnBox.OpenFramework.Shared/Extension/Attribute",target:"_blank",rel:"noopener noreferrer"}},[t._v("此目录中(在Github浏览)"),e("OutboundLink")],1),t._v("。命名空间是"),e("code",[t._v("AutumnBox.OpenFramework.Extension")]),t._v("。")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/zsh2401/AutumnBox/blob/master/src/AutumnBox.OpenFramework.Shared/Extension/EmptyExtension.cs",target:"_blank",rel:"noopener noreferrer"}},[t._v("EmptyExtension"),e("OutboundLink")],1),t._v("包含了默认的特性，建议拓展模块可以继承于其。")])])]),e("h3",{attrs:{id:"extname"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#extname"}},[t._v("#")]),t._v(" ExtName")]),t._v(" "),e("p",[t._v("支持"),e("code",[t._v("I18N")]),t._v("，接收"),e("code",[t._v("String")]),t._v("类型的变长参数，用于表达拓展模块的人类可读名字。")]),t._v(" "),e("div",{staticClass:"language-java extra-class"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ExtName")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Example Extension"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zh-cn:示例拓展模块"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),e("h3",{attrs:{id:"extrequireddevicestates"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#extrequireddevicestates"}},[t._v("#")]),t._v(" ExtRequiredDeviceStates")]),t._v(" "),e("p",[t._v("接收"),e("a",{attrs:{href:"https://github.com/zsh2401/AutumnBox/blob/master/src/AutumnBox.Basic.Shared/Device/DeviceState.cs",target:"_blank",rel:"noopener noreferrer"}},[t._v("DeviceState"),e("OutboundLink")],1),t._v("作为参数，用于表明拓展模块运行所必须的设备状态，秋之盒将确保模块不会在设备不满足条件的情况下被用户启动。")]),t._v(" "),e("div",{staticClass:"language-java extra-class"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ExtRequiredDeviceStates")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DeviceState"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Poweron")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"title"},[t._v("扩展用法")]),e("ul",[e("li",[t._v("如果想要表明拓展模块运行与设备状态无关(甚至是没有插入设备)，请传入"),e("a",{attrs:{href:"https://github.com/zsh2401/AutumnBox/blob/master/src/AutumnBox.OpenFramework.Shared/Extension/AutumnBoxExtension.Constants.cs",target:"_blank",rel:"noopener noreferrer"}},[t._v("AutumnBoxExtension.NoMatter"),e("OutboundLink")],1),t._v("。如果不插入设备不可以的话，则请传入该类中的"),e("code",[t._v("AllState")]),t._v("常量。")]),t._v(" "),e("li",[t._v("想要支持多个状态，可以使用"),e("code",[t._v("或")]),t._v("运算符。(可以观察到"),e("a",{attrs:{href:"https://github.com/zsh2401/AutumnBox/blob/master/src/AutumnBox.Basic.Shared/Device/DeviceState.cs",target:"_blank",rel:"noopener noreferrer"}},[t._v("DeviceState"),e("OutboundLink")],1),t._v("中的值支持这样的操作)")])]),t._v(" "),e("div",{staticClass:"language-java extra-class"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ExtRequiredDeviceStates")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DeviceState"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Poweron")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DeviceState"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Recovery")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])])]),e("h3",{attrs:{id:"extauth"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#extauth"}},[t._v("#")]),t._v(" "),e("a",{attrs:{href:"https://github.com/zsh2401/AutumnBox/blob/master/src/AutumnBox.OpenFramework.Shared/Extension/Attribute/ExtAuthAttribute.cs",target:"_blank",rel:"noopener noreferrer"}},[t._v("ExtAuth"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("支持"),e("code",[t._v("I18N")]),t._v("，传入一个变长String以表示拓展模块所有者信息。")]),t._v(" "),e("div",{staticClass:"language-java extra-class"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ExtAuth")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Seymour Zhang"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zh-cn:张三"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),e("h3",{attrs:{id:"extdesc"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#extdesc"}},[t._v("#")]),t._v(" "),e("a",{attrs:{href:"https://github.com/zsh2401/AutumnBox/blob/master/src/AutumnBox.OpenFramework.Shared/Extension/Attribute/ExtDescAttribute.cs",target:"_blank",rel:"noopener noreferrer"}},[t._v("ExtDesc"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("支持"),e("code",[t._v("I18N")]),t._v("，传入一个变长String以表示拓展模块的简单解释信息。")]),t._v(" "),e("div",{staticClass:"language-java extra-class"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ExtDesc")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"此模块与地球三体组织无关"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"en-us:This extension have nothing to do with ETO"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),e("h3",{attrs:{id:"extdevelopermode"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#extdevelopermode"}},[t._v("#")]),t._v(" "),e("a",{attrs:{href:"https://github.com/zsh2401/AutumnBox/blob/master/src/AutumnBox.OpenFramework.Shared/Extension/Attribute/ExtDeveloperMode.cs",target:"_blank",rel:"noopener noreferrer"}},[t._v("ExtDeveloperMode"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("传入布尔值表示该模块是否开启开发者模式。如果是,则该拓展模块只会在秋之盒设置中开启"),e("code",[t._v("调试模式")]),t._v("后才会显示。")]),t._v(" "),e("div",{staticClass:"language-java extra-class"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ExtDeveloperMode")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//Default value is true")]),t._v("\n")])])]),e("h3",{attrs:{id:"exthidden"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#exthidden"}},[t._v("#")]),t._v(" "),e("a",{attrs:{href:"https://github.com/zsh2401/AutumnBox/blob/master/src/AutumnBox.OpenFramework.Shared/Extension/Attribute/ExtHiddenAttribute.cs",target:"_blank",rel:"noopener noreferrer"}},[t._v("ExtHidden"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("传入布尔值表示该模块是否被隐藏。如果隐藏，则用户将无法直接启动该模块，即便开启调试模式。")]),t._v(" "),e("div",{staticClass:"language-java extra-class"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ExtHidden")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//Default value is true")]),t._v("\n")])])]),e("h3",{attrs:{id:"exticon"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#exticon"}},[t._v("#")]),t._v(" "),e("a",{attrs:{href:"https://github.com/zsh2401/AutumnBox/blob/master/src/AutumnBox.OpenFramework.Shared/Extension/Attribute/ExtIconAttribute.cs",target:"_blank",rel:"noopener noreferrer"}},[t._v("ExtIcon"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("表示一个拓展模块的图标。目前提供两种方式。"),e("br"),t._v(" "),e("strong",[t._v("第一种方式")]),t._v("，嵌入资源：直接传入图标的在项目中的绝对路径即可。\n例如：使用这个位置的图标的代码是：\n"),e("img",{attrs:{src:s(540),alt:""}})]),t._v(" "),e("div",{staticClass:"language-java extra-class"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ExtIcon")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Icons.android.png"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"title"}),e("p",[t._v('图标文件一定要调整为"嵌入的资源"')])]),e("p",[e("strong",[t._v("第二种方式")]),t._v(",base64字符串。声明你的方式，并将图标的base64字符串传入。")]),t._v(" "),e("div",{staticClass:"language-java extra-class"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ExtIcon")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"THE BASE64 STRING OF THE ICON"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SourceType")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ExtIconAttribute"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("IconSourceType"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Base64Image")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),e("h3",{attrs:{id:"extrequireroot"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#extrequireroot"}},[t._v("#")]),t._v(" "),e("a",{attrs:{href:"https://github.com/zsh2401/AutumnBox/blob/master/src/AutumnBox.OpenFramework.Shared/Extension/Attribute/ExtRequireRootAttribute.cs",target:"_blank",rel:"noopener noreferrer"}},[t._v("ExtRequireRoot"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("传入布尔值，表明此模块需要设备获取ROOT才能够运行。秋之盒也会在显眼的位置标明该模块需要ROOT权限。")]),t._v(" "),e("div",{staticClass:"custom-block danger"},[e("p",{staticClass:"title"}),e("p",[t._v("考虑到ROOT检测的复杂情况，秋之盒不会阻止可能没有ROOT的设备执行拓展模块，如有需要，请开发者另行测试，或"),e("a",{attrs:{href:"https://github.com/zsh2401/AutumnBox/blob/master/src/AutumnBox.Basic.Shared/Device/DeviceExtension.Management.cs",target:"_blank",rel:"noopener noreferrer"}},[t._v("贡献相关代码"),e("OutboundLink")],1),t._v("。")])]),e("h3",{attrs:{id:"extregions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#extregions"}},[t._v("#")]),t._v(" "),e("a",{attrs:{href:"https://github.com/zsh2401/AutumnBox/blob/master/src/AutumnBox.OpenFramework.Shared/Extension/Attribute/ExtRegionsAttribute.cs",target:"_blank",rel:"noopener noreferrer"}},[t._v("ExtRegions"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("传入String类型变长参数，表明一个可运行语言地区白名单。")]),t._v(" "),e("div",{staticClass:"language-java extra-class"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ExtRegions")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zh-cn"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zh-tw"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"en-us"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"title"}),e("p",[t._v("不挂此特性则默认无地区限制。")])]),e("h3",{attrs:{id:"extversion"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#extversion"}},[t._v("#")]),t._v(" "),e("a",{attrs:{href:"https://github.com/zsh2401/AutumnBox/blob/master/src/AutumnBox.OpenFramework.Shared/Extension/Attribute/ExtVersionAttribute.cs",target:"_blank",rel:"noopener noreferrer"}},[t._v("ExtVersion"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("传入一个至三个整型数字，表明拓展模块的版本信息。")]),t._v(" "),e("div",{staticClass:"language-java extra-class"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ExtVersion")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//[ExtVersion(1,1)]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//[ExtVersion(2)]")]),t._v("\n")])])]),e("h3",{attrs:{id:"extrunnablepolicy"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#extrunnablepolicy"}},[t._v("#")]),t._v(" "),e("a",{attrs:{href:"https://github.com/zsh2401/AutumnBox/blob/master/src/AutumnBox.OpenFramework.Shared/Extension/Attribute/ExtRunnablePolicyAttribute.cs",target:"_blank",rel:"noopener noreferrer"}},[t._v("ExtRunnablePolicy"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("一个抽象类，开发者可继承并实现该抽象类以创建自定义的运行检测策略，用于限制模块可否被用户运行。")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"title"}),e("p",[t._v("事实上，继承自"),e("a",{attrs:{href:"https://github.com/zsh2401/AutumnBox/blob/master/src/AutumnBox.OpenFramework.Shared/Extension/EmptyExtension.cs",target:"_blank",rel:"noopener noreferrer"}},[t._v("EmptyExtension"),e("OutboundLink")],1),t._v("的拓展模块默认包含了一个基础的运行检测策略："),e("a",{attrs:{href:"https://github.com/zsh2401/AutumnBox/blob/master/src/AutumnBox.OpenFramework.Shared/Extension/Attribute/ExtNormalRunnablePolicyAttribute.cs",target:"_blank",rel:"noopener noreferrer"}},[t._v("ExtNormalRunnablePolicy"),e("OutboundLink")],1),t._v("，这个默认策略确保了拓展模块只会在设备状态正确时被启动。")])]),e("p",[t._v("此外，还有一些策略由于各种原因，暂且不在此处进行介绍，如果需要请阅读"),e("a",{attrs:{href:"https://github.com/zsh2401/AutumnBox/tree/master/src/AutumnBox.OpenFramework.Shared/Extension/Attribute",target:"_blank",rel:"noopener noreferrer"}},[t._v("相关源码"),e("OutboundLink")],1),t._v("注释。")]),t._v(" "),e("h2",{attrs:{id:"获取拓展模块本身的信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#获取拓展模块本身的信息"}},[t._v("#")]),t._v(" 获取拓展模块本身的信息")]),t._v(" "),e("p",[t._v("我们可以通过"),e("a",{attrs:{href:"https://github.com/zsh2401/AutumnBox/blob/master/src/AutumnBox.OpenFramework.Shared/Extension/Leaf/LeafExtension.cs",target:"_blank",rel:"noopener noreferrer"}},[t._v("LeafExtensionBase.GetExtensionInfo()"),e("OutboundLink")],1),t._v("方法获取到拓展模块所有元信息。\n然后使用"),e("a",{attrs:{href:"https://github.com/zsh2401/AutumnBox/blob/master/src/AutumnBox.OpenFramework.Shared/Management/ExtInfo/ExtensionInfoExtension.cs",target:"_blank",rel:"noopener noreferrer"}},[t._v("ExtensionInfoExtension"),e("OutboundLink")],1),t._v("中提供了一系列拓展方法帮助我们获取更加特定的值。")]),t._v(" "),e("div",{staticClass:"language-java extra-class"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ExtName")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Test"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zh-cn:测试"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ETest")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("LMain")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Main")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" extInf "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[e("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("this"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),t._v("GetExtensionInfo")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" extName "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[e("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("extInf"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),t._v("Name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//Test 或 测试 取决于具体的语言环境")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" reqState "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[e("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("extInf"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),t._v("RequiredDeviceState")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//....")]),t._v("\n")])])]),e("h2",{attrs:{id:"自定义的元信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#自定义的元信息"}},[t._v("#")]),t._v(" 自定义的元信息")]),t._v(" "),e("p",[t._v("你可以继承自"),e("a",{attrs:{href:"https://github.com/zsh2401/AutumnBox/blob/master/src/AutumnBox.OpenFramework.Shared/Extension/Attribute/ExtensionInfoAttribute.cs",target:"_blank",rel:"noopener noreferrer"}},[t._v("ExtensionInfoAttribute"),e("OutboundLink")],1),t._v("或"),e("a",{attrs:{href:"https://github.com/zsh2401/AutumnBox/blob/master/src/AutumnBox.OpenFramework.Shared/Extension/Attribute/ExtensionI18NTextInfoAttribute.cs",target:"_blank",rel:"noopener noreferrer"}},[t._v("ExtensionI18NTextInfoAttribute"),e("OutboundLink")],1),t._v("实现你自己的元信息。")]),t._v(" "),e("h3",{attrs:{id:"获取自定义的元信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#获取自定义的元信息"}},[t._v("#")]),t._v(" 获取自定义的元信息")]),t._v(" "),e("p",[t._v("获取到ExtensionInfo后，获取对应键的值即可。")]),t._v(" "),e("div",{staticClass:"language-java extra-class"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Main")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" extInf "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[e("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("this"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),t._v("GetExtensionInfo")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" value "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" extInf"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CustomKey"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//直接获取到的是`ValueReader`函数指针，需要再次执行才能获取到真正的值")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n")])])]),e("p",[t._v("事实上，秋之盒开放框架里大部分内置的特性都是这个原理。")]),t._v(" "),e("p",[t._v("更多内容，请阅读"),e("a",{attrs:{href:"https://github.com/zsh2401/AutumnBox/tree/master/src/AutumnBox.OpenFramework.Shared/Extension/Attribute",target:"_blank",rel:"noopener noreferrer"}},[t._v("相关源码"),e("OutboundLink")],1),t._v("。")])])}),[],!1,null,null,null);a.default=n.exports}}]);